# **자료구조 - 힙(Heap)**

자료구조중 트리르 활용한 힙은 중요한 자료구조 중 하나 이다.

특히 코딩테스트에서 제출되는 우선순위 큐를 힙 자료구조를 통해서 구현되기 때문이다.

Heap의 동작 원리 그리고 자바에서 어떻게 구현하는지 한번 알아보자

## **Heap이란?**

Heap 이란 무엇인가?

힙은 최솟값 또는 최대값을 빠르게 찾아내기 위해 완전 이진트리 형태로 만들어진 자료구조

**최소값 or 최대값, 빠르게, 완전이진트리** 이 3가지 요소가 heap 의 핵심이다. 

#### **◾ 완전 이진트리**

트리가 무엇이냐 Tree는 말그대로 나무 같이 생긴 구조이다.
![](https://velog.velcdn.com/images/kimdodo/post/60039536-2913-47f5-ae79-8aead2514a3a/image.png)


트리 노드들이 얽혀진 모양을 보인다.

| 부모노드 | 자신과 연결된 노드 중 높은 노드 |
| --- | --- |
| 자식노드 | 자신과 연결된 노드 중 낮은 노드 |
| 루트 노드 | 뿌리 노드이며 트리에선 가상 상위에 있는 노드(부모 X) |
| 단말 노드 | 리프 노드라고 불리며 자식 노드가 없는 경우 |
| 내부 노드 | 단말 노드가 아닌 노드 |
| 형제 노드 | 부모가 같은 노드 |
| 깊이 | 특정 노드까지 도달하기 위해 거쳐야 하는 간선 갯수 |
| 레벨 | 특정 깊에 있는 노드의 집합 |
| 차수 | 특정 노드가 하위 노드와 연결된 갯수 (B의 경우 : 3) |

그럼 완전이진트리는 무엇인가?

자식 노드의 갯수는 2개로 제한하고 그중에서 마지막 레벨을 제외한 모든 노드가 채워진 형태를 말한다.

즉 마지막 노드 말고는 부모는 자식을 무조건 2개 가지고 있는 형태를 말함

![](https://velog.velcdn.com/images/kimdodo/post/a3cc4a01-6a54-4847-9e24-32fc25e77886/image.png)


그럼 힙은 최댓값 최솟값을 빠르게 찾는 완전 이진트리인데 , 극값을 빠르게 찾는 방법은 무엇일까?

부모노드는 항상 자식노드보다 우선순위가 높다 라는 규칙을 정하면 된다.

**부모노드는 자식 노드 보다 우선순위가 높다**라는 전제를 기반하여 트리를 만들어 불필요한 조회 수를 줄일 수 있는 것이다.

## **Heap의 종류**

힙은 우선순위가 높은 순서대로 나오게 된다.

정수나 문자의 경우 낮은값이 높은 값보다 우선한다.

즉 정렬기준에 따라 최소힙 최대힙을 나눌 수 있다.. 
![](https://velog.velcdn.com/images/kimdodo/post/f60e08bf-266d-4b2b-844c-319934965350/image.png)


최소힙 : 부모노드의 값 <= 자식노드의 값

최대힙 : 부모노드의 값 >= 자식노드의 값

최소힙을 구현할때 트리 구조를 어떻게 구현하는가 일반적으로는 구현에서는 배열을 사용한다.

배열의 경우 인덱스 접근이 바로 가능해 쉽게 구현 가능

![](https://velog.velcdn.com/images/kimdodo/post/d46d59fb-edd8-4f5b-a326-dc6b291419a3/image.png)

배열로 구현 했을때는 이렇게 된다.

구현할때 노드 번호랑 착각하지 않기 위해 0 번 인덱스를 비우고 1번 부터 시작한다.

여기서 중요한건 **노드와 대응되는 배열의 인덱스는 절대 변하지 않는다.**

**👉 중요 성질**

1\. 왼쪽 자식 노드 = 부모 인덱스 x 2

2\. 오른쪽 자식 노드 = 부모 인덱스 x 2 + 1

3\. 부모노드 = 자식노드 인덱스 / 2 

해당 기능을 바탕으로 구현을 한번 해보자
